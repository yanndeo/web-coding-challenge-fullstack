{"ast":null,"code":"import _objectSpread from \"/Users/Maranatha/Desktop/PROJECT_JS/MERN_LIST_SHOPS_APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/Maranatha/Desktop/PROJECT_JS/MERN_LIST_SHOPS_APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { Fragment, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from \"prop-types\";\nimport axios from 'axios';\n\nconst Register = props => {\n  //Definition du state : Hook[state, setState ] =  useSate(initialize)\n  const _useState = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        formData = _useState2[0],\n        setFormData = _useState2[1]; // const { name, email, password, password2 } = this.state;\n\n\n  const name = formData.name,\n        email = formData.email,\n        password = formData.password,\n        password2 = formData.password2; //Maj state input fields text on change\n\n  const onChange = e => {\n    setFormData(_objectSpread({}, formData, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    /**\n     * Check matching password\n     */\n\n    if (password !== password2) {\n      console.log('password no correspondance');\n\n      props._setAlert('password no correspondance', 'danger');\n    } else {\n      console.log('SUCCESS', formData);\n      /**\n       * Create user Object\n       */\n\n      const newUser = {\n        name,\n        email,\n        password\n        /**\n         * Async/await\n         * Define headers like postman\n         * Convert object javascript to object json (stringify)\n         * Launch request axios.\n         */\n\n      };\n\n      try {\n        const config = {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        };\n        const body = JSON.stringify(newUser);\n        let res = await axios.post('/api/users', body, config);\n        console.log(res.data);\n      } catch (error) {\n        console.error(error.response.data);\n      }\n    }\n  };\n\n  return {\n    /* <Fragment>\n       <h1 className=\"large text-primary\">Sign Up</h1>\n       <p className=\"lead\"><i className=\"fas fa-user\"></i> Create Your Account</p>\n        <form className=\"form\" onSubmit={e => onSubmit(e)} >\n           <div className=\"form-group\">\n               <input\n                   type=\"text\"\n                   placeholder=\"Name\"\n                   name=\"name\"\n                   value={name}\n                   onChange={e => onChange(e)}\n                   required />\n           </div>\n           <div className=\"form-group\">\n               <input\n                   type=\"email\"\n                   placeholder=\"Email Address\"\n                   name=\"email\"\n                   value={email}\n                   onChange={e => onChange(e)}\n                   required\n               />\n               <small className=\"form-text\">This site uses Gravatar so if you want a profile image, use a Gravatar email</small>\n           </div>\n           <div className=\"form-group\">\n               <input\n                   type=\"password\"\n                   placeholder=\"Password\"\n                   name=\"password\"\n                   value={password}\n                   onChange={e => onChange(e)}\n                   minLength=\"6\"\n               />\n           </div>\n           <div className=\"form-group\">\n               <input\n                   type=\"password\"\n                   placeholder=\"Confirm Password\"\n                   name=\"password2\"\n                   value={password2}\n                   onChange={e => onChange(e)}\n                   minLength=\"6\"\n               />\n           </div>\n           <input type=\"submit\" className=\"btn btn-primary\" value=\"Register\" />\n       </form>\n        <p className=\"my-1\">\n           Already have an account? <Link to=\"/login\">Sign In</Link>\n       </p>\n    </Fragment> */\n  };\n};\n\nRegister.propTypes = {};\nexport default Register;","map":{"version":3,"sources":["/Users/Maranatha/Desktop/PROJECT_JS/MERN_LIST_SHOPS_APP/client/src/components/authentification/Register.js"],"names":["React","Fragment","useState","Link","PropTypes","axios","Register","props","name","email","password","password2","formData","setFormData","onChange","e","target","value","onSubmit","preventDefault","console","log","_setAlert","newUser","config","headers","body","JSON","stringify","res","post","data","error","response","propTypes"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAIA,MAAMC,QAAQ,GAAIC,KAAD,IAAS;AAItB;AAJsB,oBAKUL,QAAQ,CAAC;AACrCM,IAAAA,IAAI,EAAE,EAD+B;AAErCC,IAAAA,KAAK,EAAE,EAF8B;AAGrCC,IAAAA,QAAQ,EAAE,EAH2B;AAIrCC,IAAAA,SAAS,EAAE;AAJ0B,GAAD,CALlB;AAAA;AAAA,QAKfC,QALe;AAAA,QAKLC,WALK,kBAetB;;;AAfsB,QAgBdL,IAhBc,GAgBuBI,QAhBvB,CAgBdJ,IAhBc;AAAA,QAgBRC,KAhBQ,GAgBuBG,QAhBvB,CAgBRH,KAhBQ;AAAA,QAgBDC,QAhBC,GAgBuBE,QAhBvB,CAgBDF,QAhBC;AAAA,QAgBSC,SAhBT,GAgBuBC,QAhBvB,CAgBSD,SAhBT,EAmBtB;;AACA,QAAMG,QAAQ,GAAIC,CAAD,IAAO;AACpBF,IAAAA,WAAW,mBAAMD,QAAN;AAAgB,OAACG,CAAC,CAACC,MAAF,CAASR,IAAV,GAAiBO,CAAC,CAACC,MAAF,CAASC;AAA1C,OAAX;AACH,GAFD;;AAIA,QAAMC,QAAQ,GAAG,MAAOH,CAAP,IAAa;AAE1BA,IAAAA,CAAC,CAACI,cAAF;AACA;;;;AAGA,QAAIT,QAAQ,KAAKC,SAAjB,EAA4B;AAExBS,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;;AACAd,MAAAA,KAAK,CAACe,SAAN,CAAgB,4BAAhB,EAA8C,QAA9C;AAEH,KALD,MAKO;AAEHF,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBT,QAAvB;AACA;;;;AAGI,YAAMW,OAAO,GAAE;AACXf,QAAAA,IADW;AAEXC,QAAAA,KAFW;AAGXC,QAAAA;AAGR;;;;;;;AANmB,OAAf;;AAYA,UAAG;AACE,cAAMc,MAAM,GAAE;AACXC,UAAAA,OAAO,EAAE;AACL,4BAAe;AADV;AADE,SAAd;AAMD,cAAMC,IAAI,GAAKC,IAAI,CAACC,SAAL,CAAeL,OAAf,CAAf;AAEA,YAAIM,GAAG,GAAI,MAAMxB,KAAK,CAACyB,IAAN,CAAW,YAAX,EAAyBJ,IAAzB,EAA+BF,MAA/B,CAAjB;AAEAJ,QAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACE,IAAhB;AAGH,OAdD,CAcE,OAAOC,KAAP,EAAc;AACZZ,QAAAA,OAAO,CAACY,KAAR,CAAcA,KAAK,CAACC,QAAN,CAAeF,IAA7B;AACH;AACR;AACJ,GA/CD;;AAoDA,SAOI;AAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAD,GAPJ;AA8DH,CA1ID;;AA4IAzB,QAAQ,CAAC4B,SAAT,GAAqB,EAArB;AAGA,eAAe5B,QAAf","sourcesContent":["import React, { Fragment, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from \"prop-types\";\nimport axios from 'axios'\n\n\n\nconst Register = (props)=>{\n\n\n\n    //Definition du state : Hook[state, setState ] =  useSate(initialize)\n    const [formData, setFormData] = useState({\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n    });\n\n\n\n\n    // const { name, email, password, password2 } = this.state;\n    const { name, email, password, password2 } = formData;\n\n\n    //Maj state input fields text on change\n    const onChange = (e) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value })\n    };\n\n    const onSubmit = async (e) => {\n\n        e.preventDefault();\n        /**\n         * Check matching password\n         */\n        if (password !== password2) {\n\n            console.log('password no correspondance');\n            props._setAlert('password no correspondance', 'danger');\n\n        } else {\n\n            console.log('SUCCESS', formData);\n            /**\n             * Create user Object\n             */\n                const newUser ={\n                    name,\n                    email,\n                    password\n                }\n\n            /**\n             * Async/await\n             * Define headers like postman\n             * Convert object javascript to object json (stringify)\n             * Launch request axios.\n             */\n                try{\n                     const config= {\n                        headers: {\n                            'Content-Type':'application/json'\n                        }\n                    }\n\n                    const body  =  JSON.stringify(newUser);\n\n                    let res =  await axios.post('/api/users', body, config);\n\n                    console.log(res.data)\n\n\n                } catch (error) {\n                    console.error(error.response.data)\n                }\n        }\n    }\n\n\n\n\n    return (\n\n\n\n\n\n        \n        {/* <Fragment>\n            <h1 className=\"large text-primary\">Sign Up</h1>\n            <p className=\"lead\"><i className=\"fas fa-user\"></i> Create Your Account</p>\n\n            <form className=\"form\" onSubmit={e => onSubmit(e)} >\n                <div className=\"form-group\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Name\"\n                        name=\"name\"\n                        value={name}\n                        onChange={e => onChange(e)}\n                        required />\n                </div>\n                <div className=\"form-group\">\n                    <input\n                        type=\"email\"\n                        placeholder=\"Email Address\"\n                        name=\"email\"\n                        value={email}\n                        onChange={e => onChange(e)}\n                        required\n                    />\n                    <small className=\"form-text\">This site uses Gravatar so if you want a profile image, use a Gravatar email</small>\n                </div>\n                <div className=\"form-group\">\n                    <input\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        name=\"password\"\n                        value={password}\n                        onChange={e => onChange(e)}\n                        minLength=\"6\"\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <input\n                        type=\"password\"\n                        placeholder=\"Confirm Password\"\n                        name=\"password2\"\n                        value={password2}\n                        onChange={e => onChange(e)}\n                        minLength=\"6\"\n                    />\n                </div>\n                <input type=\"submit\" className=\"btn btn-primary\" value=\"Register\" />\n            </form>\n\n            <p className=\"my-1\">\n                Already have an account? <Link to=\"/login\">Sign In</Link>\n            </p>\n        </Fragment> */}\n    );\n\n\n}\n\nRegister.propTypes = {\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}